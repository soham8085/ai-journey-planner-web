import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate travel plan for location: Las Vegas, for 3 days for couple with the cheap budget, give me a hotels option list with HotelName, Hotel address, price hotel image URL, geo coordinates, rating, description and suggest itinerary with placeName, Place Details, Place Image URL, geo coordinates, ticket pricing, rating,  time travel each of the location for 3 days plan with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed place information, all in JSON format.\n\n```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"3 days\",\n    \"budget\": \"cheap\",\n    \"travelers\": \"couple\",\n    \"hotelOptions\": [\n      {\n        \"HotelName\": \"Circus Circus Hotel & Casino\",\n        \"Hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$50-$100 per night\",\n        \"hotel_image_URL\": \"https://www.circuscircus.com/wp-content/uploads/2022/09/Exterior-Rendering.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1431,\n          \"longitude\": -115.1694\n        },\n        \"rating\": 3.8,\n         \"description\":\"This iconic Las Vegas hotel offers affordable rooms, a lively atmosphere, and attractions like the Adventuredome theme park and free circus shows. It's a great option for budget-conscious travelers who still want to experience the Vegas vibe.\"\n      },\n      {\n        \"HotelName\": \"Excalibur Hotel & Casino\",\n         \"Hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"price\": \"$60-$120 per night\",\n         \"hotel_image_URL\": \"https://media.excalibur.com/images/Hotel/excalibur-hotel-exterior.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.0983,\n          \"longitude\": -115.1731\n        },\n         \"rating\": 4.0,\n         \"description\": \"This medieval-themed hotel on the Strip provides budget-friendly rooms, multiple pools, and dining options. While not the most luxurious, it's a fun and affordable experience with a lively atmosphere.\"\n      },\n        {\n        \"HotelName\": \"Tuscany Suites & Casino\",\n        \"Hotel_address\": \"255 E Flamingo Rd, Las Vegas, NV 89169\",\n        \"price\": \"$70-$130 per night\",\n        \"hotel_image_URL\": \"https://tuscanysuites.com/wp-content/uploads/2021/09/Homepage-Exterior-Night-min.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1154,\n          \"longitude\": -115.1574\n        },\n        \"rating\": 4.2,\n        \"description\": \"Slightly off the Strip, Tuscany Suites offers spacious rooms, a pool, and a more relaxed atmosphere. It's a good option for couples who prefer a quieter stay but still want easy access to the Strip.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"bestTimeToVisit\": \"Morning & Evening\",\n        \"plan\": [\n          {\n            \"placeName\": \"Fremont Street Experience\",\n            \"Place_Details\": \"A pedestrian mall in Downtown Las Vegas with a spectacular light and sound show on a massive LED canopy. It's especially lively at night.\",\n            \"Place_image_URL\":\"https://www.vegasexperience.com/wp-content/uploads/2023/10/FSE-Homepage_Hero-1200x630.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1701,\n              \"longitude\": -115.1400\n            },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n            \"time_travel\": \"Variable based on hotel location, but often 10-20 min drive.\"\n          },\n         {\n           \"placeName\": \"Golden Nugget Hotel & Casino\",\n           \"Place_Details\": \"A historic casino and hotel in Downtown Las Vegas, known for its gold nugget display and vibrant atmosphere.\",\n            \"Place_image_URL\":\"https://www.goldennugget.com/las-vegas/images/hotel-hero-image-mobile.jpg\",\n           \"geo_coordinates\": {\n              \"latitude\": 36.1689,\n              \"longitude\": -115.1410\n           },\n            \"ticket_pricing\": \"Free (gambling at your expense)\",\n            \"rating\": 4.2,\n           \"time_travel\":\"Walking distance from Fremont Street Experience\"\n\n          }\n        ]\n      },\n      \"day2\": {\n        \"bestTimeToVisit\": \"Morning & Afternoon\",\n        \"plan\": [\n          {\n            \"placeName\": \"The Bellagio Conservatory & Botanical Gardens\",\n            \"Place_Details\": \"A free indoor garden display that changes with the seasons. It's visually stunning and a must-see.\",\n            \"Place_image_URL\":\"https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/entertainment/conservatory/bellagio-conservatory-header.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1128,\n              \"longitude\": -115.1737\n            },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.7,\n            \"time_travel\": \"Variable depending on hotel location\"\n          },\n          {\n             \"placeName\": \"Walk The Strip\",\n            \"Place_Details\": \"Stroll along the Las Vegas Strip, taking in the sights of famous hotels, casinos, and attractions. Perfect for people-watching and free entertainment.\",\n            \"Place_image_URL\":\"https://i.pinimg.com/originals/2f/8d/c2/2f8dc2d5d2833387ef75b99264a87014.jpg\",\n             \"geo_coordinates\": {\n              \"latitude\": 36.1162,\n              \"longitude\": -115.1735\n            },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.6,\n           \"time_travel\":\"Walking distance from Bellagio Conservatory\"\n          }\n        ]\n      },\n    \"day3\": {\n        \"bestTimeToVisit\": \"Morning\",\n        \"plan\": [\n          {\n           \"placeName\": \"The LINQ Promenade\",\n             \"Place_Details\": \"An outdoor shopping, dining, and entertainment district. The High Roller observation wheel is a focal point (tickets can be purchased for an additional cost).\",\n           \"Place_image_URL\":\"https://www.caesars.com/linq/things-to-do/promenade/-/media/linq/things-to-do/promenade/linq-promenade-header.jpg\",\n           \"geo_coordinates\": {\n              \"latitude\": 36.1171,\n              \"longitude\": -115.1689\n            },\n            \"ticket_pricing\": \"Free to enter (High Roller tickets extra)\",\n            \"rating\": 4.3,\n           \"time_travel\":\"Variable depending on hotel location\"\n          },\n         {\n            \"placeName\": \"Seven Magic Mountains\",\n             \"Place_Details\":\"A public art installation by Swiss artist Ugo Rondinone, featuring seven colorful stacked boulder totems in the desert landscape. It's a great photo opportunity.\",\n             \"Place_image_URL\":\"https://sevenmagicmountains.com/wp-content/uploads/2016/05/7MM-Landscape-15.jpg\",\n              \"geo_coordinates\": {\n              \"latitude\": 35.9811,\n              \"longitude\": -115.2967\n              },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.4,\n            \"time_travel\": \"Approx 20-30 minutes drive from Las Vegas Strip\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n**Important Notes:**\n\n*   **Pricing:** Hotel prices are estimates and can fluctuate based on dates, availability, and demand. Always check updated prices when booking.\n*   **Transportation:** Consider using ride-sharing services or public transport to get around, as taxis can be costly. Walking is a great option for the central Strip area.\n*   **Food:** To save money, look for happy hour deals, food trucks, and casual dining options. Bring snacks and drinks when walking around to avoid high tourist prices.\n*   **Free Activities:** Las Vegas offers many free activities, as included in the itinerary. Take advantage of these to stay within your budget.\n*   **Flexibility:** This is a suggestion; feel free to tailor the itinerary to your interests and pace.\n*   **Tickets:** Ticket pricing is subject to change, double-check current costs.\n\nLet me know if you have any more questions or would like adjustments to this plan!\n"},
          ],
        },
      ],
    });

